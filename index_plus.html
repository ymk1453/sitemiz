<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mevra â¤ï¸ Mizra</title>
  <meta name="theme-color" content="#ff5f7e" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style_plus.css" />
</head>
<body>

  <!-- Background Hearts -->
  <div id="bgHearts" aria-hidden="true"></div>

  <!-- Toast -->
  <div id="toast" class="toast" aria-live="polite" aria-atomic="true"></div>
  <canvas id="confettiCanvas" class="confetti" aria-hidden="true"></canvas>

  <!-- SW UPDATE BANNER -->
<div id="swUpdate" class="sw-update" hidden>
  <div class="sw-update-inner">
    <span>Yeni sÃ¼rÃ¼m hazÄ±r.</span>
    <div class="sw-update-actions">
      <button id="swReloadBtn" class="primary" type="button">GÃ¼ncelle</button>
      <button id="swDismissBtn" class="ghost" type="button">Kapat</button>
    </div>
  </div>
</div>


  <!-- LOGIN -->
  <div id="loginScreen" class="screen">
    <div class="login-box" role="dialog" aria-label="GiriÅŸ">
      <h1>Mevra <span>â¤ï¸</span> Mizra</h1>
      <p>Ã–zel Evrenimize GiriÅŸ</p>

      <label class="sr-only" for="loginPassword">Åifre</label>
      <input type="password" id="loginPassword" placeholder="Åifre" autocomplete="current-password" />

      <div class="row">
        <label class="checkbox">
          <input type="checkbox" id="rememberMe" />
          <span>Beni hatÄ±rla</span>
        </label>
        <button class="ghost" id="hintBtn" type="button" title="Ä°pucu">?</button>
      </div>

      <button class="primary" id="loginBtn" type="button">GiriÅŸ Yap</button>
      <span id="loginError" class="error" role="status"></span>

      <div class="tiny muted">
        Bu site kiÅŸisel kullanÄ±m iÃ§indir. Veriler tarayÄ±cÄ±da (LocalStorage) saklanÄ±r.
      </div>
    </div>
  </div>

  <!-- SITE -->
  <div id="site" class="site" hidden>

    <header class="header">
      <div class="header-inner">
        <div>
          <h1>Mevra â¤ï¸ Mizra</h1>
          <p>Bizim KÃ¼Ã§Ã¼k Evrenimiz</p>
        </div>

        <div class="header-actions">
          <select id="themeSelect" class="select" aria-label="Tema SeÃ§">
            <option value="pink">Pembe</option>
            <option value="violet">Mor</option>
            <option value="night">Gece</option>
            <option value="ocean">Okyanus</option>
            <option value="sunset">GÃ¼n BatÄ±mÄ±</option>
            <option value="forest">Orman</option>
            <option value="cherry">Kiraz</option>
            <option value="graphite">Grafit</option>

            <option value="sky">GÃ¶kyÃ¼zÃ¼</option>
            <option value="mint">Nane</option>
            <option value="lemon">Limon</option>
            <option value="coral">Mercan</option>
            <option value="ruby">Yakut</option>
            <option value="lavender">Lavanta</option>
            <option value="peach">Åeftali</option>
            <option value="sand">Kum</option>
            <option value="coffee">Kahve</option>
            <option value="aurora">Aurora</option>
            <option value="teal">Turkuaz</option>
            <option value="indigo">Ä°ndigo</option>
            <option value="slate">Slate</option>
          </select>

          <!-- JS iÃ§inde buildThemePalette/initTheme/syncThemeUI Ã§aÄŸrÄ±larÄ± iÃ§in gÃ¼venli placeholder -->
          <div id="themePalette" class="theme-palette" aria-label="Tema Paleti" hidden></div>

          
          <button class="ghost" id="installBtn" type="button" hidden>UygulamayÄ± YÃ¼kle</button>
<button class="ghost" id="logoutBtn" type="button">Ã‡Ä±kÄ±ÅŸ</button>
        </div>
      </div>
    </header>

    <nav class="nav" aria-label="Sayfa menÃ¼sÃ¼">
      <button data-page="home" class="navbtn active" type="button">Ana Sayfa</button>
      <button data-page="memories" class="navbtn" type="button">AnÄ±lar</button>
      <button data-page="diary" class="navbtn" type="button">AnÄ± Defteri</button>
      <button data-page="special" class="navbtn" type="button">Ã–zel GÃ¼nler</button>
      <button data-page="chat" class="navbtn" type="button">Mini Sohbet</button>
      <button data-page="game" class="navbtn" type="button">Oyun</button>
      <button data-page="future" class="navbtn" type="button">Gelecek</button>
      <button data-page="calendar" class="navbtn" type="button">Takvim</button>
      <button data-page="settings" class="navbtn" type="button">Ayarlar</button>
    </nav>

    <main class="main">

      <!-- HOME -->
      <section id="home" class="page active">
        <h2>HoÅŸ Geldin</h2>
        <p class="muted">
          Bu site sadece bizim hikÃ¢yemiz iÃ§in var. Burada anÄ±lar birikir, kelimeler saklanÄ±r ve geleceÄŸe notlar bÄ±rakÄ±lÄ±r.
        </p>

        <div class="grid2 mt16">
          <div class="card">
            <h3>BugÃ¼nÃ¼n Tarihi</h3>
            <p id="todayText" class="muted">â€”</p>
          </div>

          <div class="card">
            <h3>En YakÄ±n Ã–zel GÃ¼n</h3>
            <p id="nextSpecialText" class="muted">HenÃ¼z eklenmedi.</p>
            <div class="row mt12" style="justify-content:flex-start;">
              <button class="ghost" id="notifyBtn" type="button">Bildirimleri AÃ§</button>
              <span id="notifyState" class="tiny muted"></span>
            </div>
          </div>

          <div class="card">
            <h3>HÄ±zlÄ± KÄ±sayollar</h3>
            <div class="chips">
              <button class="chip" data-jump="memories" type="button">AnÄ± ekle</button>
              <button class="chip" data-jump="diary" type="button">Bir ÅŸey yaz</button>
              <button class="chip" data-jump="special" type="button">Ã–zel gÃ¼n ekle</button>
              <button class="chip" data-jump="game" type="button">Kalp oyunu</button>
            </div>
          </div>
        </div>

        <div class="grid2 mt16">
          <div class="card">
            <h3>Geri SayÄ±m</h3>
            <p id="nextSpecialCountdown" class="muted">â€”</p>
            <p class="tiny muted">En yakÄ±n Ã¶zel gÃ¼ne canlÄ± geri sayÄ±m.</p>
          </div>

          <div class="card">
            <h3>Ä°statistik</h3>
            <div id="dashStats" class="muted">â€”</div>
            <p class="tiny muted">AnÄ±lar, kayÄ±tlar ve sohbet sayÄ±larÄ±.</p>
          </div>

          <div class="card">
            <h3>BugÃ¼n GeÃ§miÅŸte</h3>
            <div id="todayInPast" class="muted">â€”</div>
            <p class="tiny muted">AynÄ± gÃ¼n/ayda yazdÄ±klarÄ±n (varsa).</p>
          </div>
        
        <div class="grid2 mt16">
          <div class="card">
            <h3>SÃ¼rpriz</h3>
            <p class="muted tiny">Tek tÄ±kla tatlÄ± bir mesaj, mini gÃ¶rev veya randevu fikri Ã¼ret.</p>
            <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
              <button class="primary" id="surpriseBtn" type="button">Ãœret</button>
              <button class="ghost" id="surpriseCopyBtn" type="button">Kopyala</button>
              <button class="ghost" id="surpriseShareBtn" type="button">PaylaÅŸ</button>
            </div>
            <div id="surpriseOut" class="muted mt12" style="white-space:pre-wrap;"></div>
          </div>

          <div class="card">
            <h3>HÄ±zlÄ± Kurulum</h3>
            <p class="tiny muted">PWA olarak yÃ¼kle, bildirim iznini aÃ§, yedek al. 3 adÄ±mda bitti.</p>
            <div class="chips mt10">
              <button class="chip" id="quickInstallChip" type="button">YÃ¼kleme</button>
              <button class="chip" id="quickNotifyChip" type="button">Bildirim</button>
              <button class="chip" id="quickBackupChip" type="button">Yedek</button>
            </div>
            <div id="quickSetupOut" class="tiny muted mt12"></div>
          </div>
        </div>

</div>
      </section>

      <!-- MEMORIES -->
      <section id="memories" class="page">
        <h2>AnÄ±lar</h2>

        <div class="grid2 mt16">
          <div class="card">
            <div class="card-head">
              <h3>Yeni AnÄ± Ekle</h3>
              <span class="tiny muted">Bu tarayÄ±cÄ±da saklanÄ±r.</span>
            </div>

            <div class="field">
              <label class="label" for="memoryImage">GÃ¶rsel</label>
              <input type="file" id="memoryImage" accept="image/*" />
              <div id="memoryImagePreview" class="img-preview" hidden>
                <img id="memoryImagePreviewImg" alt="SeÃ§ilen gÃ¶rsel Ã¶nizleme" />
                <button class="ghost mini" id="memoryImageClearBtn" type="button">KaldÄ±r</button>
              </div>
            </div>

            <div class="field">
              <label class="label" for="memoryTitle">BaÅŸlÄ±k</label>
              <input type="text" id="memoryTitle" maxlength="60" placeholder="KÄ±sa baÅŸlÄ±k (opsiyonel)" />
              <div class="row tiny muted" style="justify-content:space-between;">
                <span>Ä°pucu: 3â€“6 kelime yeter.</span>
                <span id="memoryTitleCount">0/60</span>
              </div>
            </div>

            <div class="field">
              <label class="label" for="memoryText">AÃ§Ä±klama</label>
              <textarea id="memoryText" maxlength="1200" placeholder="AnÄ± aÃ§Ä±klamasÄ±"></textarea>
              <div class="row tiny muted" style="justify-content:space-between;">
                <span>Markdown destek: **kalÄ±n**, *italik*, `kod`.</span>
                <span id="memoryTextCount">0/1200</span>
              </div>
            </div>

            <div class="grid2 mt12">
              <div class="field" style="margin:0;">
                <label class="label" for="memoryDate">Tarih</label>
                <input type="date" id="memoryDate" />
              </div>

              <div class="field" style="margin:0;">
                <label class="label" for="memoryAlbum">AlbÃ¼m</label>
                <input type="text" id="memoryAlbum" maxlength="40" placeholder="Ã–rn: Yaz Tatili 2025 (opsiyonel)" />
              </div>
            </div>

            <div class="field">
              <label class="label" for="memoryTags">Etiketler</label>
              <input type="text" id="memoryTags" placeholder="Ã–rn: tatil, hediye, okul" />
              <div id="memoryTagsPreview" class="chips mt10" aria-label="Etiket Ã¶nizleme" hidden></div>
            </div>

            <div class="row mt12">
              <button class="primary" id="addMemoryBtn" type="button">Ekle</button>
              <button class="ghost" id="clearMemoryFormBtn" type="button">Formu Temizle</button>
            </div>
          </div>

          <div class="card">
            <div class="card-head">
              <h3>AnÄ± Arama</h3>
              <button class="ghost mini" id="memoryClearFiltersBtn" type="button">Filtreleri SÄ±fÄ±rla</button>
            </div>

            <input type="text" id="memorySearch" placeholder="BaÅŸlÄ±k/aÃ§Ä±klama/etiket/album iÃ§inde ara..." />

            <div class="filters mt12">
              <select id="memoryAlbumFilter" class="select" aria-label="AlbÃ¼m filtresi"></select>
              <select id="memorySort" class="select" aria-label="AnÄ± sÄ±ralama">
                <option value="new">Yeni â†’ Eski</option>
                <option value="old">Eski â†’ Yeni</option>
                <option value="date">Tarihe gÃ¶re</option>
                <option value="title">BaÅŸlÄ±ÄŸa gÃ¶re</option>
              </select>
              <button class="ghost" id="memoryTagFilterBtn" type="button">Etiket Filtre</button>
              <button class="ghost" id="memorySlideshowBtn" type="button">Slayt GÃ¶sterisi</button>
            </div>

            <div id="memoryTagFilter" class="tag-filter mt12" hidden></div>
            <div id="memoryStats" class="muted tiny mt10">â€”</div>
          </div>
        </div>

        <div id="memoryEmpty" class="empty mt16" hidden>
          <div class="empty-inner">
            <h3>HenÃ¼z anÄ± yok</h3>
            <p class="muted">Ä°lk anÄ±nÄ± ekleyerek baÅŸlayabilirsin.</p>
            <button class="primary" data-jump="memories" type="button">AnÄ± ekle</button>
          </div>
        </div>

        <div id="memoryList" class="memory-list mt16"></div>
      </section>
<!-- DIARY -->
      <section id="diary" class="page">
        <h2>AnÄ± Defteri</h2>

        <div class="grid2 mt16">
          <div class="card">
            <h3>KayÄ±tlar</h3>
            <input type="text" id="diarySearch" placeholder="KayÄ±tlarda ara..." />
            <div class="row mt12" style="justify-content:flex-start;">
              <button class="primary" id="newDiaryBtn" type="button">Yeni KayÄ±t</button>
              <button class="ghost" id="toggleDiaryPreviewBtn" type="button">Ã–nizleme</button>
            </div>
            <div id="diaryList" class="list mt12"></div>
          </div>

          <div class="card">
            <h3>DÃ¼zenleyici</h3>
            <div class="row" style="justify-content:flex-start;">
              <input type="text" id="diaryTitle" placeholder="BaÅŸlÄ±k (opsiyonel)" />
            </div>
            <textarea id="diaryText" placeholder="BugÃ¼n ne hissettin?"></textarea>

            <div id="diaryPreview" class="preview mt12" hidden></div>

            <div class="row mt12">
              <button class="primary" id="saveDiaryBtn" type="button">Kaydet</button>
              <button class="danger" id="deleteDiaryBtn" type="button">Sil</button>
              <span id="diarySaved" class="muted"></span>
            </div>
          </div>
        </div>
      </section>

      <!-- SPECIAL -->
      <section id="special" class="page">
        <h2>Ã–zel GÃ¼nler</h2>

        <div class="card mt16">
          <h3>En YakÄ±n Ã–zel GÃ¼n</h3>
          <p id="specialCountdown" class="muted">â€”</p>
          <p class="tiny muted">CanlÄ± geri sayÄ±m.</p>
        </div>

        <div class="grid2 mt16">
          <div class="card">
            <h3>Yeni GÃ¼n Ekle</h3>
            <input type="text" id="specialName" placeholder="Ã–rn: TanÄ±ÅŸma GÃ¼nÃ¼" />
            <input type="date" id="specialDate" />

            <div class="row mt12" style="justify-content:flex-start; flex-wrap:wrap;">
  <label class="checkbox" style="margin:0;">
    <input type="checkbox" id="specialNotify" checked />
    <span>Bildirim gÃ¶nder</span>
  </label>

  <label class="checkbox" style="margin:0;">
    <input type="checkbox" id="specialRepeat" checked />
    <span>Her yÄ±l tekrarla</span>
  </label>
<div class="row mt12" style="justify-content:flex-start; flex-wrap:wrap;">
  <input type="text" id="chatSearch" placeholder="Sohbette ara..." />
  <button class="ghost" id="attachBtn" type="button">Dosya ekle</button>
  <input type="file" id="chatFile" class="sr-only" accept="image/*,audio/*" />
</div>

  <div class="row" style="justify-content:flex-start; gap:12px; flex-wrap:wrap;">
    <label class="checkbox" style="margin:0;">
      <input type="checkbox" id="remind7" checked />
      <span>7 gÃ¼n Ã¶nce</span>
    </label>
    <label class="checkbox" style="margin:0;">
      <input type="checkbox" id="remind1" checked />
      <span>1 gÃ¼n Ã¶nce</span>
    </label>
    <label class="checkbox" style="margin:0;">
      <input type="checkbox" id="remind0" checked />
      <span>AynÄ± gÃ¼n</span>
    </label>
  </div>
</div>


            <button class="primary" id="addSpecialBtn" type="button">Ekle</button>
          </div>

          <div class="card">
            <h3>Liste</h3>
            <ul id="specialList" class="special-list"></ul>
          </div>
        </div>
      </section>

      <!-- CHAT -->
      <section id="chat" class="page">
        <h2>Mini Sohbet</h2>

        <div class="card mt16">
          <div class="row" style="justify-content:flex-start; flex-wrap:wrap;">
            <select id="chatSender" class="select" aria-label="Mesaj sahibi">
              <option value="mevra">Mevra</option>
              <option value="mizra">Mizra</option>
            </select>

            <!-- JS'de kullanÄ±lÄ±yor ama HTML'de yoktu: EKLENDÄ° -->
            <input type="text" id="chatSearch" placeholder="Sohbette ara..." style="max-width:220px;" />

            <button class="ghost" id="pinLastBtn" type="button">Son mesajÄ± sabitle</button>
            <button class="ghost" id="clearChatBtn" type="button">Temizle</button>

            <!-- JS'de kullanÄ±lÄ±yor ama HTML'de yoktu: EKLENDÄ° -->
            <button class="ghost" id="attachBtn" type="button">ğŸ“ Ekle</button>
            <input type="file" id="chatFile" class="sr-only" accept="image/*,audio/*" />
          </div>

          <div id="chatPinned" class="pinned mt12" hidden></div>
          <div id="chatBox" class="chatbox mt12" aria-label="Sohbet kutusu"></div>

          <div class="chatbar">
            <textarea id="chatInput" rows="3" placeholder="Mesaj yaz (Enter ile gÃ¶nder â€¢ Shift+Enter = satÄ±r)"></textarea>
            <button class="primary" id="sendChatBtn" type="button">GÃ¶nder</button>
          </div>

          <p class="tiny muted">
            Mesajlar tarayÄ±cÄ±da saklanÄ±r. Mesaja tÄ±klayÄ±nca â¤ï¸ reaksiyon eklenir. Shift+TÄ±k ile emoji reaksiyon seÃ§ebilirsin.
            SaÄŸ tÄ±k ile silinebilir. Ã‡ift tÄ±k ile sabitle/sabiti kaldÄ±r.
          </p>
        </div>
      </section>

      <!-- GAME -->
      <section id="game" class="page">
        <h2>Kalp Oyunu</h2>

        <div class="grid2 mt16">
          <div class="card">
            <h3>Skor</h3>
            <p class="scoreline">
              Skor: <span id="score">0</span>
              <span class="sep">â€¢</span>
              SÃ¼re: <span id="timeLeft">30</span>s
              <span class="sep">â€¢</span>
              En iyi: <span id="bestScore">0</span>
              <span class="sep">â€¢</span>
              Combo: <span id="combo">0</span>
              <span class="sep">â€¢</span>
              KaÃ§Ä±rma: <span id="miss">0</span>
            </p>

            <div class="row">
              <button class="primary" id="startGameBtn" type="button">BaÅŸlat</button>
              <button class="ghost" id="resetBestBtn" type="button">En iyiyi sÄ±fÄ±rla</button>
            </div>

            <div class="row mt12" style="justify-content:flex-start;">
              <label class="checkbox" style="margin:0;">
                <input type="checkbox" id="soundToggle" />
                <span>Ses</span>
              </label>
              <select id="difficulty" class="select" aria-label="Zorluk">
                <option value="normal">Normal</option>
                <option value="hard">Zor</option>
                <option value="insane">Ã‡ok Zor</option>
              </select>
            </div>

            <div class="mt12">
              <h3 style="margin:12px 0 8px;">Son Skorlar</h3>
              <div id="lastScores" class="list"></div>
            </div>

            <p class="tiny muted">Oyun baÅŸlayÄ±nca kalp kaÃ§acak. TÄ±klayÄ±p yakala.</p>
          </div>

          <div class="card">
            <h3>Oyun AlanÄ±</h3>
            <div id="gameArea" class="game-area" aria-label="Oyun alanÄ±">
              <button id="heartTarget" class="heart" type="button" aria-label="Kalbi yakala" hidden>â¤ï¸</button>
            </div>
          </div>
        </div>

<div class="grid2 mt16">
  <div class="card">
    <h3>ğŸ’— Kalp EÅŸleÅŸtirme</h3>
    <p class="tiny muted">AynÄ± kalpleri bul, hafÄ±zanÄ± konuÅŸtur.</p>
    <button class="primary" id="btnLoveMemory" type="button">BaÅŸla</button>
  </div>

  <div class="card">
    <h3>ğŸ’ AÅŸk Testi</h3>
    <p class="tiny muted">Mini test: uyum puanÄ± ve tatlÄ± yorumlar.</p>
    <button class="primary" id="btnLoveQuiz" type="button">Teste BaÅŸla</button>
  </div>

  <div class="card">
    <h3>ğŸ® SÄ±ra BazlÄ± AÅŸk Oyunu</h3>
    <p class="tiny muted">2 kiÅŸilik â€œAÅŸk ÃœÃ§taÅŸÄ±â€ (tic-tac-toe). Kazanan kalpleri toplar.</p>
    <button class="primary" id="btnLoveTtt" type="button">BaÅŸla</button>
  </div>

  <div class="card">
    <h3>ğŸ”Š Sesli Romantik Oyun</h3>
    <p class="tiny muted">Melodi tekrar et: dinle, sÄ±rayÄ± hatÄ±rla, bas.</p>
    <button class="primary" id="btnLoveSound" type="button">BaÅŸla</button>
  </div>
</div>

<div class="grid2 mt16">
  <div class="card">
    <h3>ğŸ§  Beni Ne Kadar TanÄ±yorsun?</h3>
    <p class="tiny muted">Sorular deÄŸiÅŸir. SonuÃ§lar kayÄ±t edilir.</p>
    <button class="primary" id="btnKnowMe" type="button">BaÅŸla</button>
  </div>

  <div class="card">
    <h3>ğŸ† Rozetler & Ä°statistik</h3>
    <p class="tiny muted">Oyun baÅŸarÄ±larÄ±nÄ± ve rekorlarÄ±nÄ± gÃ¶r.</p>
    <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
      <button class="ghost" id="btnAchievements" type="button">Rozetler</button>
      <button class="ghost" id="btnGameStats" type="button">Ä°statistik</button>
      <button class="danger" id="btnResetGameData" type="button">SÄ±fÄ±rla</button>
    </div>
    <div id="gameQuickStats" class="tiny muted mt12"></div>
  </div>
</div>

<!-- GAME MODAL -->
<div id="gameModal" class="modal" hidden>
  <div class="modal-inner">
    <div class="row" style="justify-content:space-between; align-items:center;">
      <h3 id="gameTitle" style="margin:0;"></h3>
      <button class="ghost mini" id="gameCloseX" type="button" aria-label="Kapat">âœ•</button>
    </div>
    <div id="gameBody" class="mt12"></div>
    <div class="row mt12" style="justify-content:flex-end; gap:10px; flex-wrap:wrap;">
      <button class="ghost" id="gameCloseBtn" type="button">Kapat</button>
    </div>
  </div>
</div>
</section>

      <!-- FUTURE -->
      <section id="future" class="page">
        <h2>Gelecek</h2>

        <div class="grid2 mt16">
          <div class="card">
            <h3>Notlar</h3>
            <input type="text" id="futureSearch" placeholder="Notlarda ara..." />
            <div class="row mt12" style="justify-content:flex-start;">
              <button class="primary" id="newFutureBtn" type="button">Yeni Not</button>
              <button class="ghost" id="toggleFuturePreviewBtn" type="button">Ã–nizleme</button>
            </div>
            <div id="futureList" class="list mt12"></div>
          </div>

          <div class="card">
            <h3>DÃ¼zenleyici</h3>
            <input type="text" id="futureTitle" placeholder="BaÅŸlÄ±k (opsiyonel)" />
            <textarea id="futureText" placeholder="GeleceÄŸe not..."></textarea>

            <div id="futurePreview" class="preview mt12" hidden></div>

            <div class="row mt12">
              <button class="primary" id="saveFutureBtn" type="button">Kaydet</button>
              <button class="danger" id="deleteFutureBtn" type="button">Sil</button>
              <span id="futureSaved" class="muted"></span>
            </div>
          </div>
        </div>
      </section>

      <!-- CALENDAR -->
      <section id="calendar" class="page">
        <h2>Takvim</h2>
        <p class="muted">AnÄ± defteri, gelecek notlarÄ±, Ã¶zel gÃ¼nler ve sohbet hareketlerini tek ekranda gÃ¶r.</p>

        <div class="card mt16">
          <div class="row" style="justify-content:flex-start;">
            <button class="ghost" id="calPrevBtn" type="button">â—€</button>
            <div id="calTitle" style="font-weight:900;"></div>
            <button class="ghost" id="calNextBtn" type="button">â–¶</button>
            <button class="ghost" id="calTodayBtn" type="button">BugÃ¼n</button>
          </div>
          <div id="calendarGrid" class="calendar mt12" aria-label="Takvim"></div>
          <div id="calendarDayDetail" class="card mt16" style="background: rgba(255,255,255,0.10);" hidden></div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section id="settings" class="page">
        <h2>Ayarlar</h2>

        <div class="grid2 mt16">
          <div class="card">
            <h3>GÃ¼venlik</h3>
            <p class="tiny muted">
              Åifre: <b>08.06.25</b> (Bu sÃ¼rÃ¼mde dÃ¼z ÅŸifre kontrolÃ¼ de var; giriÅŸ sorunu yaÅŸamazsÄ±n.)
            </p>
            <button class="ghost" id="copyHashHelpBtn" type="button">Hash nasÄ±l Ã¼retilir?</button>
            <div id="hashHelp" class="tiny muted mt12" hidden></div>
            <hr class="sep-line mt16"/>

            <h4 style="margin:10px 0 8px;">Åifre DeÄŸiÅŸtir</h4>
            <div class="field" style="margin:0;">
              <label class="label" for="oldPass">Mevcut ÅŸifre</label>
              <input type="password" id="oldPass" placeholder="Mevcut ÅŸifre" autocomplete="current-password"/>
            </div>
            <div class="grid2 mt12">
              <div class="field" style="margin:0;">
                <label class="label" for="newPass">Yeni ÅŸifre</label>
                <input type="password" id="newPass" placeholder="Yeni ÅŸifre" autocomplete="new-password"/>
              </div>
              <div class="field" style="margin:0;">
                <label class="label" for="newPass2">Yeni ÅŸifre (tekrar)</label>
                <input type="password" id="newPass2" placeholder="Tekrar" autocomplete="new-password"/>
              </div>
            </div>
            <div class="row mt12" style="justify-content:flex-start; gap:10px;">
              <button class="primary" id="changePassBtn" type="button">DeÄŸiÅŸtir</button>
              <button class="ghost" id="resetPassBtn" type="button" title="VarsayÄ±lana dÃ¶n">SÄ±fÄ±rla</button>
            </div>
            <div id="passState" class="tiny muted mt10"></div>

          </div>

          <div class="card">
            <h3>Veri YÃ¶netimi</h3>
            <p class="tiny muted">Yedek al / geri yÃ¼kle. (Tavsiye: yedekleri sakla.)</p>
            <div class="row" style="justify-content:flex-start;">
              <button class="ghost" id="exportBtn" type="button">DÄ±ÅŸa aktar (JSON)</button>
              <input type="file" id="importFile" accept="application/json" class="sr-only" />
              <button class="ghost" id="importBtn" type="button">Ä°Ã§e aktar</button>
            </div>

            <div class="row mt12" style="justify-content:flex-start;">
              <label class="checkbox" style="margin:0;">
                <input type="checkbox" id="autoLockToggle" checked />
                <span>Otomatik kilit</span>
              </label>
              <input id="autoLockMinutes" type="number" min="1" max="60" value="5" style="max-width:120px;" />
              <span class="tiny muted">dk</span>
            </div>
            <p class="tiny muted mt12">Otomatik kilit aÃ§Ä±kken, belirlediÄŸin sÃ¼re boyunca iÅŸlem yapmazsan giriÅŸ ekranÄ±na dÃ¶ner.</p>

            <div class="row mt12">
              <button class="danger" id="wipeAllBtn" type="button">TÃ¼m verileri sil</button>
            </div>
          </div>
        </div>
      </section>

    </main>

    <footer class="footer">
      <p>Mevra â¤ï¸ Mizra â€” Sonsuza Kadar</p>
    </footer>
  </div>

  <!-- SLIDESHOW MODAL -->
  <div id="slideshowModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card">
      <div class="row" style="justify-content:space-between;">
        <b id="slideshowTitle">Slayt GÃ¶sterisi</b>
        <button class="ghost" id="slideshowClose" type="button">Kapat</button>
      </div>
      <div class="slideshow mt12">
        <img id="slideshowImg" alt="Slayt" />
        <div class="row mt12" style="justify-content:space-between;">
          <button class="ghost" id="slideshowPrev" type="button">â—€</button>
          <div id="slideshowMeta" class="tiny muted"></div>
          <button class="ghost" id="slideshowNext" type="button">â–¶</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script_plus.js"></script>
<!-- SUITE MODAL (features) -->
<div id="suiteModal" class="modal" hidden>
  <div class="modal-inner">
    <h3 id="suiteModalTitle"></h3>
    <div id="suiteModalBody"></div>
    <div class="row mt12" style="justify-content:flex-end; gap:10px;">
      <button class="ghost" id="suiteModalCloseBtn" type="button">Kapat</button>
    </div>
  </div>
</div>

<script>
/* SUITE_INJECT */
document.addEventListener("DOMContentLoaded", () => {
  const qs = (s)=>document.querySelector(s);

  // HOME: Mood + Weekly Challenge + Quick Privacy
  const home = qs("#home");
  if (home && !qs("#suiteHome")) {
    const wrap = document.createElement("div");
    wrap.id = "suiteHome";
    wrap.className = "grid2 mt16";
    wrap.innerHTML = `
      <div class="card">
        <h3>ğŸ§  BugÃ¼nÃ¼n Modu</h3>
        <p class="tiny muted">GÃ¼nlÃ¼k ruh hali takibi + seri (streak).</p>
        <div class="row mt10" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
          <select id="moodSelect" class="select" aria-label="Mod seÃ§">
            <option value="">SeÃ§...</option>
            <option value="ğŸ˜">ğŸ˜ AÅŸÄ±k</option>
            <option value="ğŸ˜Š">ğŸ˜Š Mutlu</option>
            <option value="ğŸ˜Œ">ğŸ˜Œ Huzurlu</option>
            <option value="ğŸ˜´">ğŸ˜´ Yorgun</option>
            <option value="ğŸ˜¤">ğŸ˜¤ Sinirli</option>
            <option value="ğŸ˜¢">ğŸ˜¢ ÃœzgÃ¼n</option>
          </select>
          <button class="primary" id="moodSaveBtn" type="button">Kaydet</button>
        </div>
        <div id="moodOut" class="tiny muted mt12">â€”</div>
      </div>

      <div class="card">
        <h3>ğŸ”¥ HaftalÄ±k Meydan Okuma</h3>
        <p class="tiny muted">Her hafta yeni mini gÃ¶rev. TamamlayÄ±nca XP.</p>
        <div id="weeklyOut" class="muted mt10">â€”</div>
        <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
          <button class="primary" id="weeklyDoneBtn" type="button">TamamlandÄ±</button>
          <button class="ghost" id="weeklyNewBtn" type="button">Yenile</button>
        </div>
      </div>

      <div class="card">
        <h3>ğŸ† Seviye & XP</h3>
        <p class="tiny muted">YaptÄ±kÃ§a seviye atla. Oyunlar/AnÄ±lar/GÃ¼nlÃ¼k XP verir.</p>
        <div id="xpOut" class="muted mt10">â€”</div>
        <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
          <button class="ghost" id="achievementsBtn" type="button">Rozetler</button>
          <button class="ghost" id="statsBtn" type="button">Ä°statistik</button>
        </div>
      </div>

      <div class="card">
        <h3>ğŸ«¥ Gizli Mod</h3>
        <p class="tiny muted">Tek tuÅŸla her ÅŸeyi bulanÄ±klaÅŸtÄ±r. Panik: CTRL+SHIFT+L.</p>
        <div class="row mt10" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
          <button class="primary" id="privacyToggleBtn" type="button">AÃ§/Kapat</button>
          <button class="ghost" id="fakeToggleBtn" type="button">Fake Mod</button>
        </div>
        <div id="privacyOut" class="tiny muted mt12">â€”</div>
      </div>
    `;
    home.appendChild(wrap);
  }

  // FUTURE: Time Capsule
  const future = qs("#future");
  if (future && !qs("#suiteCapsule")) {
    const wrap = document.createElement("div");
    wrap.id = "suiteCapsule";
    wrap.className = "card mt16";
    wrap.innerHTML = `
      <h3>â³ Zaman KapsÃ¼lÃ¼</h3>
      <p class="tiny muted">MesajÄ± geleceÄŸe kilitle. Tarih gelmeden aÃ§Ä±lmaz.</p>
      <div class="grid2 mt12">
        <div class="field" style="margin:0;">
          <label class="label" for="capsuleOpenAt">AÃ§Ä±lma Tarihi</label>
          <input type="date" id="capsuleOpenAt" />
        </div>
        <div class="field" style="margin:0;">
          <label class="label" for="capsuleTitle">BaÅŸlÄ±k</label>
          <input type="text" id="capsuleTitle" maxlength="60" placeholder="Ã–rn: 1 yÄ±l sonra" />
        </div>
      </div>
      <div class="field mt12">
        <label class="label" for="capsuleText">Mesaj</label>
        <textarea id="capsuleText" maxlength="2000" placeholder="GeleceÄŸe mesaj..."></textarea>
      </div>
      <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
        <button class="primary" id="capsuleAddBtn" type="button">KapsÃ¼l OluÅŸtur</button>
        <button class="ghost" id="capsuleClearBtn" type="button">Temizle</button>
      </div>
      <div id="capsuleList" class="mt12"></div>
    `;
    future.appendChild(wrap);
  }

  // CHAT: Voice Notes
  const chat = qs("#chat");
  if (chat && !qs("#suiteVoice")) {
    const wrap = document.createElement("div");
    wrap.id = "suiteVoice";
    wrap.className = "card mt16";
    wrap.innerHTML = `
      <h3>ğŸ™ï¸ Sesli Not</h3>
      <p class="tiny muted">1 dakikaya kadar ses kaydÄ± al, burada sakla.</p>
      <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
        <button class="primary" id="voiceRecBtn" type="button">KaydÄ± BaÅŸlat</button>
        <button class="ghost" id="voiceStopBtn" type="button" disabled>Durdur</button>
        <span id="voiceState" class="tiny muted"></span>
      </div>
      <div id="voiceList" class="mt12"></div>
    `;
    chat.appendChild(wrap);
  }

  // SETTINGS: Encrypted Export/Import + Reset
  const settings = qs("#settings");
  if (settings && !qs("#suiteSecurity")) {
    const wrap = document.createElement("div");
    wrap.id = "suiteSecurity";
    wrap.className = "card mt16";
    wrap.innerHTML = `
      <h3>ğŸ” GÃ¼venli Yedek</h3>
      <p class="tiny muted">DÄ±ÅŸa aktar / iÃ§e aktar. Ä°stersen ÅŸifreli (AES-GCM).</p>
      <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
        <button class="primary" id="exportEncBtn" type="button">Åifreli DÄ±ÅŸa Aktar</button>
        <button class="ghost" id="exportPlainBtn" type="button">JSON DÄ±ÅŸa Aktar</button>
        <label class="ghost" style="padding:12px 14px; border-radius:999px; cursor:pointer;">
          Ä°Ã§e Aktar <input id="importFile" type="file" accept=".json,.mmenc,application/json" hidden />
        </label>
      </div>
      <div class="row mt12" style="justify-content:flex-start; gap:10px; flex-wrap:wrap;">
        <button class="danger" id="wipeAllBtn" type="button">Her Åeyi SÄ±fÄ±rla</button>
      </div>
      <div id="securityOut" class="tiny muted mt12">â€”</div>
    `;
    settings.appendChild(wrap);
  }
});
</script>

</body>
</html>